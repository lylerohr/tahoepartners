var gulp=require("gulp"),notify=require("gulp-notify"),browserSync=require("browser-sync").create(),sass=require("gulp-sass"),sourcemaps=require("gulp-sourcemaps"),autoprefixer=require("gulp-autoprefixer");function handleError(e){var r="Error: "+e.message;console.error("Error",e.message),browserSync.notify("Error: "+e.message);var s=Array.prototype.slice.call(arguments);notify.onError({title:"Compile Error",message:"<%= error.message %>"}).apply(this,s),"function"==typeof this.emit&&this.emit("end")}gulp.task("sass",function(){return gulp.src("./sass/*.scss").pipe(sourcemaps.init()).pipe(sass({sourceComments:!1,outputStyle:"expanded"})).on("error",handleError).pipe(autoprefixer("last 2 versions","> 1%","ie 8")).pipe(sourcemaps.write(".")).pipe(gulp.dest("./css/")).pipe(browserSync.stream({once:!0}))}),gulp.task("serve",function(){browserSync.init({server:"./",open:!0}),gulp.watch("./sass/*.scss",["sass"]),gulp.watch("./js/*.js",{interval:500}).on("change",browserSync.reload),gulp.watch("./index.html",{interval:500}).on("change",browserSync.reload)}),gulp.task("default",["sass"]),gulp.task("watch",["serve"]);